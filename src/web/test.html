<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/xcash/bootstrap-autocomplete@v2.3.7/dist/latest/bootstrap-autocomplete.min.js"></script>
</head>

<body>

<input class="form-control tag_autocomplete" type="text" autocomplete="off">




<script>
$('.tag_autocomplete').autoComplete({
    resolver: 'custom',
    events: {
        search: function (qry, callback) {
            // let's do a custom ajax call
            $.post(
                '/rest/tags/autocomplete',
                JSON.stringify({ 'name': qry }),
            ).done(function (res) {

                parsed = JSON.parse(res)
                console.log(parsed)
                var mapped = []
                for(var key in parsed) {
                    var v = parsed[key]
                    var m = {
                        text: v['value'],
                        value: v['label']
                    }
                    mapped.push(m)
                }
                console.log(mapped)
                callback(mapped)
            });
        }
    }
});
</script>
<!--<script>-->
<!--    $('.tag_autocomplete').autoComplete({-->
<!--    resolverSettings: {-->
<!--    }-->
<!--});-->
<!--</script>-->
</body>
</html>